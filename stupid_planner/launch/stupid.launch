<launch>
  <arg name="model" default="iris_depth_camera"/>
  <arg name="mavros_transformation" default="0" />

<!-- Spawn iris with depth camera-->
  <node name="spawn_model" pkg="gazebo_ros" type="spawn_model" output="log"
    args="-sdf -database $(arg model) -model iris">
  </node> 

<!-- Launch stereo vision processing node -->
  <node ns="stereo" pkg="stereo_image_proc" type="stereo_image_proc" name="stereo_image_proc">
    <param name="stereo_algorithm" type="double" value="1.0" />
    <param name="correlation_window_size" type="double" value="19.0" />
    <param name="disparity_range" type="double" value="32.0" />
    <param name="uniqueness_ratio" type="double" value="40.0" />
    <param name="speckle_size" type="double" value="1000.0" />
    <param name="speckle_range" type="double" value="2.0" />
  </node>

<!-- stupid planner -->
  <node pkg="stupid_planner" name="stupid_planner" type="stupid_planner" output="screen"/> 

<!-- Launch TF publishers -->
  <node pkg="tf" type="static_transform_publisher" name="tf_90_deg"
    args="0 0 0 $(arg mavros_transformation) 0 0 world local_origin 10"/>
  <node pkg="tf" type="static_transform_publisher" name="tf_depth_camera"
    args="0 0 0 -1.57 0 -1.57 fcu camera_link 10"/>


</launch>